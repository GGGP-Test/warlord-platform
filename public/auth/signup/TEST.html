<!DOCTYPE html>
<html lang="en" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up - MyWebApp</title>
    
    <!-- Firebase Configuration -->
    <script>
        window.__FIREBASE_CONFIG__ = {
            apiKey: "AIzaSyDk7vVnSiMfYJPJ38gbw21fzqsBTu1PbC8",
            authDomain: "warlord-1cbe3.firebaseapp.com",
            projectId: "warlord-1cbe3",
            storageBucket: "warlord-1cbe3.firebasestorage.app",
            messagingSenderId: "212906032385",
            appId: "1:212906032385:web:441058c2ed0c88ace16f00"
        };
    </script>
    
    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore-compat.js"></script>
    
    <!-- Plus Jakarta Sans for headings -->
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@600;700;800&display=swap" rel="stylesheet">
    <!-- Cache bust: Polish v3 - Terms text + micro-interactions -->
    <style>
        /* All CSS stays exactly the same - only changing the font-family for headings below */
        
        /* Tailwind CSS Base Styles */
        @layer properties {
            @supports ((-webkit-hyphens: none) and (not (margin-trim: inline))) or ((-moz-orient: inline) and (not (color: rgb(from red r g b)))) {
                *, ::before, ::after, ::backdrop {
                    --tw-translate-x: 0;
                    --tw-translate-y: 0;
                    --tw-translate-z: 0;
                    --tw-rotate-x: initial;
                    --tw-rotate-y: initial;
                    --tw-rotate-z: initial;
                    --tw-skew-x: initial;
                    --tw-skew-y: initial;
                    --tw-space-y-reverse: 0;
                    --tw-border-style: solid;
                    --tw-leading: initial;
                    --tw-font-weight: initial;
                    --tw-tracking: initial;
                    --tw-blur: initial;
                    --tw-brightness: initial;
                    --tw-contrast: initial;
                    --tw-grayscale: initial;
                    --tw-hue-rotate: initial;
                    --tw-invert: initial;
                    --tw-opacity: initial;
                    --tw-saturate: initial;
                    --tw-sepia: initial;
                    --tw-drop-shadow: initial;
                    --tw-drop-shadow-color: initial;
                    --tw-drop-shadow-alpha: 100%;
                    --tw-drop-shadow-size: initial;
                    --tw-backdrop-blur: initial;
                    --tw-backdrop-brightness: initial;
                    --tw-backdrop-contrast: initial;
                    --tw-backdrop-grayscale: initial;
                    --tw-backdrop-hue-rotate: initial;
                    --tw-backdrop-invert: initial;
                    --tw-backdrop-opacity: initial;
                    --tw-backdrop-saturate: initial;
                    --tw-backdrop-sepia: initial;
                    --tw-duration: initial;
                    --tw-ease: initial;
                    --tw-shadow: 0 0 #0000;
                    --tw-shadow-color: initial;
                    --tw-shadow-alpha: 100%;
                    --tw-inset-shadow: 0 0 #0000;
                    --tw-inset-shadow-color: initial;
                    --tw-inset-shadow-alpha: 100%;
                    --tw-ring-color: initial;
                    --tw-ring-shadow: 0 0 #0000;
                    --tw-inset-ring-color: initial;
                    --tw-inset-ring-shadow: 0 0 #0000;
                    --tw-ring-inset: initial;
                    --tw-ring-offset-width: 0px;
                    --tw-ring-offset-color: #fff;
                    --tw-ring-offset-shadow: 0 0 #0000;
                    --tw-animation-delay: 0s;
                    --tw-animation-direction: normal;
                    --tw-animation-duration: initial;
                    --tw-animation-fill-mode: none;
                    --tw-animation-iteration-count: 1;
                    --tw-enter-opacity: 1;
                    --tw-enter-rotate: 0;
                    --tw-enter-scale: 1;
                    --tw-enter-translate-x: 0;
                    --tw-enter-translate-y: 0;
                    --tw-exit-opacity: 1;
                    --tw-exit-rotate: 0;
                    --tw-exit-scale: 1;
                    --tw-exit-translate-x: 0;
                    --tw-exit-translate-y: 0;
                }
            }
        }

        @layer theme {
            :root, :host {
                --font-sans: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
                --font-serif: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
                --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
                --color-green-500: oklch(72.3% .219 149.579);
                --color-blue-500: oklch(62.3% .214 259.815);
                --color-black: #000;
                --color-white: #fff;
                --spacing: .25rem;
                --container-sm: 24rem;
                --text-xs: .75rem;
                --text-xs--line-height: calc(1 / .75);
                --text-sm: .875rem;
                --text-sm--line-height: calc(1.25 / .875);
                --text-base: 1rem;
                --text-base--line-height: 1.5;
                --text-lg: 1.125rem;
                --text-lg--line-height: calc(1.75 / 1.125);
                --text-4xl: 2.25rem;
                --text-4xl--line-height: calc(2.5 / 2.25);
                --text-5xl: 3rem;
                --text-5xl--line-height: 1;
                --text-6xl: 3.75rem;
                --text-6xl--line-height: 1;
                --font-weight-light: 300;
                --font-weight-medium: 500;
                --font-weight-semibold: 600;
                --font-weight-bold: 700;
                --tracking-tighter: -.05em;
                --tracking-tight: -.025em;
                --leading-tight: 1.25;
                --radius-sm: calc(var(--radius) - 4px);
                --radius-md: calc(var(--radius) - 2px);
                --radius-lg: var(--radius);
                --radius-xl: calc(var(--radius) + 4px);
                --radius-2xl: 1rem;
                --ease-in-out: cubic-bezier(.4, 0, .2, 1);
                --animate-spin: spin 1s linear infinite;
                --blur-sm: 8px;
                --default-transition-duration: .15s;
                --default-transition-timing-function: cubic-bezier(.4, 0, .2, 1);
                --default-font-family: var(--font-sans);
                --default-mono-font-family: var(--font-mono);
                --color-background: var(--background);
                --color-foreground: var(--foreground);
                --color-card: var(--card);
                --color-card-foreground: var(--card-foreground);
                --color-popover: var(--popover);
                --color-popover-foreground: var(--popover-foreground);
                --color-primary: var(--primary);
                --color-primary-foreground: var(--primary-foreground);
                --color-secondary: var(--secondary);
                --color-secondary-foreground: var(--secondary-foreground);
                --color-muted: var(--muted);
                --color-muted-foreground: var(--muted-foreground);
                --color-accent: var(--accent);
                --color-accent-foreground: var(--accent-foreground);
                --color-destructive: var(--destructive);
                --color-border: var(--border);
                --color-input: var(--input);
                --color-ring: var(--ring);
                --color-chart-1: var(--chart-1);
                --color-chart-2: var(--chart-2);
                --color-chart-3: var(--chart-3);
                --color-chart-4: var(--chart-4);
                --color-chart-5: var(--chart-5);
                --color-sidebar: var(--sidebar);
                --color-sidebar-foreground: var(--sidebar-foreground);
                --color-sidebar-primary: var(--sidebar-primary);
                --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
                --color-sidebar-accent: var(--sidebar-accent);
                --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
                --color-sidebar-border: var(--sidebar-border);
                --color-sidebar-ring: var(--sidebar-ring);
            }
        }

        @layer base {
            *, ::after, ::before, ::backdrop {
                box-sizing: border-box;
                border: 0 solid;
                margin: 0;
                padding: 0;
            }

            ::file-selector-button {
                box-sizing: border-box;
                border: 0 solid;
                margin: 0;
                padding: 0;
            }

            html, :host {
                text-size-adjust: 100%;
                tab-size: 4;
                line-height: 1.5;
                font-family: var(--default-font-family, ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji");
                font-feature-settings: var(--default-font-feature-settings, normal);
                font-variation-settings: var(--default-font-variation-settings, normal);
                -webkit-tap-highlight-color: transparent;
            }

            body {
                background-color: var(--background);
                color: var(--foreground);
            }
        }

        /* Animation Property Definitions */
        @property --tw-animation-delay {
            syntax: "*";
            inherits: false;
            initial-value: 0s;
        }

        @property --tw-animation-direction {
            syntax: "*";
            inherits: false;
            initial-value: normal;
        }

        @property --tw-animation-duration {
            syntax: "*";
            inherits: false;
        }

        @property --tw-animation-fill-mode {
            syntax: "*";
            inherits: false;
            initial-value: none;
        }

        @property --tw-animation-iteration-count {
            syntax: "*";
            inherits: false;
            initial-value: 1;
        }

        /* Utility Classes */
        .min-h-screen { min-height: 100vh; }
        .flex { display: flex; }
        .items-center { align-items: center; }
        .justify-center { justify-content: center; }
        .relative { position: relative; }
        .absolute { position: absolute; }
        .overflow-hidden { overflow: hidden; }
        .inset-0 { inset: 0; }
        .z-0 { z-index: 0; }
        .z-10 { z-index: 10; }
        .z-20 { z-index: 20; }
        .w-full { width: 100%; }
        .max-w-sm { max-width: var(--container-sm); }
        .mx-2 { margin-left: 0.5rem; margin-right: 0.5rem; }
        .mx-auto { margin-left: auto; margin-right: auto; }
        .rounded-2xl { border-radius: var(--radius-2xl); }
        .p-8 { padding: 2rem; }
        .mb-8 { margin-bottom: 2rem; }
        .gap-2 { gap: 0.5rem; }
        .gap-4 { gap: 1rem; }
        .w-10 { width: 2.5rem; }
        .h-10 { height: 2.5rem; }
        .bg-blue-500 { background-color: var(--color-blue-500); }
        .rounded-lg { border-radius: var(--radius); }
        .w-6 { width: 1.5rem; }
        .h-6 { height: 1.5rem; }
        .text-white { color: var(--color-white); }
        .text-lg { font-size: var(--text-lg); line-height: var(--text-lg--line-height); }
        .font-semibold { font-weight: var(--font-weight-semibold); }
        .text-foreground { color: var(--foreground); }
        .text-4xl { font-size: var(--text-4xl); line-height: var(--text-4xl--line-height); }
        .text-center { text-align: center; }
        .tracking-tighter { letter-spacing: var(--tracking-tighter); }
        .mb-2 { margin-bottom: 0.5rem; }
        .font-serif { font-family: var(--font-serif); }
        .text-sm { font-size: var(--text-sm); line-height: var(--text-sm--line-height); }
        .text-muted-foreground { color: var(--muted-foreground); }
        .space-y-6 > * + * { margin-top: 1.5rem; }
        .flex-1 { flex: 1 1 0%; }
        .rounded-full { border-radius: 9999px; }
        .px-4 { padding-left: 1rem; padding-right: 1rem; }
        .px-6 { padding-left: 1.5rem; padding-right: 1.5rem; }
        .px-8 { padding-left: 2rem; padding-right: 2rem; }
        .py-4 { padding-top: 1rem; padding-bottom: 1rem; }
        .font-medium { font-weight: var(--font-weight-medium); }
        .h-px { height: 1px; }
        .bg-border { background-color: var(--border); }
        .text-xs { font-size: var(--text-xs); line-height: var(--text-xs--line-height); }
        .mt-4 { margin-top: 1rem; }
        .text-primary { color: var(--primary); }
        .hover\:text-foreground:hover { color: var(--foreground); }
        .transition-colors { 
            transition-property: color, background-color, border-color; 
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); 
            transition-duration: 150ms; 
        }
        .w-5 { width: 1.25rem; }
        .h-5 { height: 1.25rem; }
        .left-4 { left: 1rem; }
        .pointer-events-none { pointer-events: none; }
        .flex-1 { flex: 1 1 0%; }
        .bg-transparent { background-color: transparent; }
        .border-0 { border-width: 0; }
        .px-0 { padding-left: 0; padding-right: 0; }
        .pl-12 { padding-left: 3rem; }
        .pr-4 { padding-right: 1rem; }
        .py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; }
        .text-base { font-size: var(--text-base); line-height: var(--text-base--line-height); }
        .focus\:outline-none:focus { outline: 2px solid transparent; outline-offset: 2px; }
        .focus\:ring-0:focus { --tw-ring-shadow: 0 0 #0000; }
        .flex-col { flex-direction: column; }
        .font-bold { font-weight: var(--font-weight-bold); }
        .transition-all {
            transition-property: all;
            transition-timing-function: var(--ease-in-out);
            transition-duration: 0.3s;
        }
        .duration-300 {
            transition-duration: 0.3s;
        }
        .delay-300 {
            transition-delay: 0.3s;
        }
        .ease-in-out {
            transition-timing-function: var(--ease-in-out);
        }

        /* Theme Colors */
        :root {
            --radius: 0.625rem;
            --background: oklch(100% 0 0);
            --foreground: oklch(14.5% 0 0);
            --card: oklch(100% 0 0);
            --card-foreground: oklch(14.5% 0 0);
            --popover: oklch(100% 0 0);
            --popover-foreground: oklch(14.5% 0 0);
            --primary: oklch(20.5% 0 0);
            --primary-foreground: oklch(98.5% 0 0);
            --secondary: oklch(97% 0 0);
            --secondary-foreground: oklch(20.5% 0 0);
            --muted: oklch(97% 0 0);
            --muted-foreground: oklch(55.6% 0 0);
            --accent: oklch(97% 0 0);
            --accent-foreground: oklch(20.5% 0 0);
            --destructive: oklch(57.7% .245 27.325);
            --border: oklch(92.2% 0 0);
            --input: oklch(92.2% 0 0);
            --ring: oklch(70.8% 0 0);
        }

        /* Topbar Styles */
        .topbar {
            position: fixed;
            top: 10px;
            left: 0;
            right: 0;
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
        }

        /* Brand Styles */
        .brand {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--foreground);
            text-decoration: none;
            padding: 6px 8px;
            border-radius: 12px;
        }

        .brand-icon {
            --icon-w: 38px;
            --gg-gap-x: 10px;
            --left-dim: 0.68;
            --stroke-w: 2.5;
            width: var(--icon-w);
            height: var(--icon-w);
            display: block;
        }

        .brand-icon svg {
            width: 100%;
            height: 100%;
            display: block;
        }

        .brand-icon .stroke {
            vector-effect: non-scaling-stroke;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        .brand-icon .piece {
            transform-box: view-box;
            transform-origin: 50% 50%;
        }

        .brand-word {
            font-weight: 800;
            font-size: 14px;
            line-height: 1;
            font-family: 'Plus Jakarta Sans', 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;
            letter-spacing: 0.2px;
        }

        /* Home Link Styles */
        .home-link {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 6px 8px;
            background: none;
            border: 0;
            line-height: 0;
            color: var(--foreground);
            text-decoration: none;
            cursor: pointer;
        }

        .home-link svg {
            width: 22px;
            height: 22px;
            display: block;
        }

        @media (min-width: 1024px) {
            .home-link svg {
                width: 28px;
                height: 28px;
            }
        }

        /* CLEAN PROFESSIONAL BACKGROUND - Subtle gradient like Stripe/Linear */
        body {
            background: linear-gradient(135deg, 
                #fafbfc 0%,
                #f5f7fa 25%,
                #eef1f5 50%,
                #f5f7fa 75%,
                #fafbfc 100%
            );
        }

        /* Minimal subtle texture overlay */
        body::before {
            content: '';
            position: fixed;
            inset: 0;
            background: 
                radial-gradient(circle at 20% 30%, rgba(59, 89, 152, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(46, 74, 124, 0.02) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }

        @keyframes spin {
            100% { transform: rotate(360deg); }
        }

        /* SNAPPIER PAGE LOAD ENTRANCE ANIMATIONS */
        @keyframes fadeInUpBlur {
            from {
                opacity: 0;
                filter: blur(6px);
                transform: translateY(8px) scale(0.98);
            }
            to {
                opacity: 1;
                filter: blur(0px);
                transform: translateY(0) scale(1);
            }
        }

        @keyframes fadeInBlur {
            from {
                opacity: 0;
                filter: blur(6px);
            }
            to {
                opacity: 1;
                filter: blur(0px);
            }
        }

        @keyframes fadeOutBlur {
            from {
                opacity: 1;
                filter: blur(0px);
                transform: translateY(0);
            }
            to {
                opacity: 0;
                filter: blur(4px);
                transform: translateY(-4px);
            }
        }

        .content-container {
            animation: fadeInBlur 0.25s ease-out forwards;
        }

        .animate-entrance-heading {
            opacity: 0;
            animation: fadeInUpBlur 0.3s ease-out forwards;
            animation-delay: 0s;
        }

        .animate-entrance-description {
            opacity: 0;
            animation: fadeInUpBlur 0.3s ease-out forwards;
            animation-delay: 0.15s;
        }

        .animate-entrance-buttons {
            opacity: 0;
            animation: fadeInUpBlur 0.3s ease-out forwards;
            animation-delay: 0.3s;
        }

        .animate-entrance-divider {
            opacity: 0;
            animation: fadeInUpBlur 0.3s ease-out forwards;
            animation-delay: 0.45s;
        }

        .animate-entrance-input {
            opacity: 0;
            animation: fadeInUpBlur 0.3s ease-out forwards;
            animation-delay: 0.6s;
        }

        .animate-entrance-terms {
            opacity: 0;
            animation: fadeInUpBlur 0.3s ease-out forwards;
            animation-delay: 0.75s;
        }

        /* REFINED TYPOGRAPHY & SPACING */
        .heading-custom {
            font-size: 2rem;
            line-height: 1.15;
            white-space: nowrap;
            font-family: 'Plus Jakarta Sans', 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;
            letter-spacing: -0.02em;
        }

        @media (min-width: 40rem) {
            .heading-custom {
                font-size: 2.5rem;
            }
        }

        @media (min-width: 48rem) {
            .heading-custom {
                font-size: 3rem;
            }
        }

        /* Tighter subtitle spacing */
        .subtitle-tight {
            margin-top: 0.5rem;
            margin-bottom: 2rem;
        }

        .buttons-container {
            display: flex;
            gap: 1rem;
            justify-content: center;
            align-items: center;
        }

        /* Larger, more prominent Google button */
        .glass-button {
            height: 48px;
            padding-top: 0;
            padding-bottom: 0;
            padding-left: 1.5rem;
            padding-right: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .glass-input-wrap {
            max-width: 300px;
            width: 100%;
            margin-left: auto;
            margin-right: auto;
        }

        .glass-input {
            height: 48px;
            padding: 4px;
            gap: 8px;
        }

        /* Glass Effect Styles */
        @property --angle-1 {
            syntax: "<angle>";
            inherits: false;
            initial-value: -75deg;
        }

        @property --angle-2 {
            syntax: "<angle>";
            inherits: false;
            initial-value: -45deg;
        }

        .glass-button-wrap {
            --anim-time: 350ms;
            --anim-ease: cubic-bezier(.25, 1, .5, 1);
            --border-width: clamp(1px, .0625em, 4px);
            position: relative;
            z-index: 2;
            transform-style: preserve-3d;
            transition: transform var(--anim-time) var(--anim-ease);
        }

        /* MICRO-INTERACTION: Button press feedback */
        .glass-button-wrap:has(.glass-button:active) {
            transform: scale(0.98);
        }

        .glass-button-shadow {
            --shadow-cutoff-fix: 2em;
            position: absolute;
            width: calc(100% + var(--shadow-cutoff-fix));
            height: calc(100% + var(--shadow-cutoff-fix));
            top: calc(0% - var(--shadow-cutoff-fix) / 2);
            left: calc(0% - var(--shadow-cutoff-fix) / 2);
            filter: blur(clamp(2px, .125em, 12px));
            transition: filter var(--anim-time) var(--anim-ease);
            pointer-events: none;
            z-index: 0;
        }

        .glass-button-shadow::after {
            content: "";
            position: absolute;
            right: 0;
            bottom: 0;
            border-radius: 9999px;
            background: linear-gradient(180deg, oklch(from var(--foreground) l c h / 20%), oklch(from var(--foreground) l c h / 10%));
            width: calc(100% - var(--shadow-cutoff-fix) - .25em);
            height: calc(100% - var(--shadow-cutoff-fix) - .25em);
            top: calc(var(--shadow-cutoff-fix) - .5em);
            left: calc(var(--shadow-cutoff-fix) - .875em);
            padding: .125em;
            box-sizing: border-box;
            mask: linear-gradient(#000 0, #000 0) content-box exclude, linear-gradient(#000 0, #000 0);
            transition: all var(--anim-time) var(--anim-ease);
            opacity: 1;
        }

        .glass-button {
            -webkit-tap-highlight-color: transparent;
            backdrop-filter: blur(clamp(1px, .125em, 4px));
            transition: all var(--anim-time) var(--anim-ease);
            background: linear-gradient(-75deg, oklch(from var(--background) l c h / 5%), oklch(from var(--background) l c h / 20%), oklch(from var(--background) l c h / 5%));
            box-shadow: inset 0 .125em .125em oklch(from var(--foreground) l c h / 5%),
                        inset 0 -.125em .125em oklch(from var(--background) l c h / 50%),
                        0 .25em .125em -.125em oklch(from var(--foreground) l c h / 20%),
                        0 0 .1em .25em inset oklch(from var(--background) l c h / 20%),
                        0 0 0 0 oklch(from var(--background) l c h);
        }

        .glass-button:hover {
            transform: scale(.975);
            backdrop-filter: blur(.01em);
            box-shadow: inset 0 .125em .125em oklch(from var(--foreground) l c h / 5%),
                        inset 0 -.125em .125em oklch(from var(--background) l c h / 50%),
                        0 .15em .05em -.1em oklch(from var(--foreground) l c h / 25%),
                        0 0 .05em .1em inset oklch(from var(--background) l c h / 50%),
                        0 0 0 0 oklch(from var(--background) l c h);
        }

        .glass-button-text {
            color: oklch(from var(--foreground) l c h / 90%);
            text-shadow: 0 .25em .05em oklch(from var(--foreground) l c h / 10%);
            transition: all var(--anim-time) var(--anim-ease);
        }

        .glass-button:hover .glass-button-text {
            text-shadow: .025em .025em .025em oklch(from var(--foreground) l c h / 12%);
        }

        .glass-button-text::after {
            content: "";
            display: block;
            position: absolute;
            width: calc(100% - var(--border-width));
            height: calc(100% - var(--border-width));
            top: calc(0% + var(--border-width) / 2);
            left: calc(0% + var(--border-width) / 2);
            box-sizing: border-box;
            border-radius: 9999px;
            overflow: clip;
            z-index: 3;
            mix-blend-mode: screen;
            pointer-events: none;
            background-size: 200% 200%;
            background-position: 0% 50%;
            transition: background-position calc(var(--anim-time) * 1.25) var(--anim-ease), --angle-2 calc(var(--anim-time) * 1.25) var(--anim-ease);
        }

        .glass-button:hover .glass-button-text::after {
            background-position: 25% 50%;
        }

        .glass-button:active .glass-button-text::after {
            background-position: 50% 15%;
            --angle-2: -15deg;
        }

        .glass-button::after {
            content: "";
            position: absolute;
            z-index: 1;
            right: 0;
            bottom: 0;
            border-radius: 9999px;
            width: calc(100% + var(--border-width));
            height: calc(100% + var(--border-width));
            top: calc(0% - var(--border-width) / 2);
            left: calc(0% - var(--border-width) / 2);
            padding: var(--border-width);
            box-sizing: border-box;
            background: conic-gradient(from var(--angle-1) at 50% 50%, 
                                      oklch(from var(--foreground) l c h / 50%) 0%, 
                                      transparent 5% 40%, 
                                      oklch(from var(--foreground) l c h / 50%) 50%, 
                                      transparent 60% 95%, 
                                      oklch(from var(--foreground) l c h / 50%) 100%),
                        linear-gradient(180deg, oklch(from var(--background) l c h / 50%), oklch(from var(--background) l c h / 50%));
            mask: linear-gradient(#000 0, #000 0) content-box exclude, linear-gradient(#000 0, #000 0);
            transition: all var(--anim-time) var(--anim-ease), --angle-1 450ms ease;
            box-shadow: inset 0 0 0 calc(var(--border-width) / 2) oklch(from var(--background) l c h / 50%);
            pointer-events: none;
        }

        .glass-button:hover::after {
            --angle-1: -125deg;
        }

        .glass-button:active::after {
            --angle-1: -75deg;
        }

        /* REFINED Glass Input Styles with Enhanced Focus */
        .glass-input-wrap {
            position: relative;
            z-index: 2;
            transform-style: preserve-3d;
            border-radius: 9999px;
        }

        .glass-input {
            display: flex;
            position: relative;
            width: 100%;
            align-items: center;
            border-radius: 9999px;
            -webkit-tap-highlight-color: transparent;
            backdrop-filter: blur(clamp(1px, .125em, 4px));
            transition: all 350ms cubic-bezier(.25, 1, .5, 1);
            background: linear-gradient(-75deg, oklch(from var(--background) l c h / 5%), oklch(from var(--background) l c h / 20%), oklch(from var(--background) l c h / 5%));
            box-shadow: inset 0 .125em .125em oklch(from var(--foreground) l c h / 5%),
                        inset 0 -.125em .125em oklch(from var(--background) l c h / 50%),
                        0 .25em .125em -.125em oklch(from var(--foreground) l c h / 20%),
                        0 0 .1em .25em inset oklch(from var(--background) l c h / 20%),
                        0 0 0 0 oklch(from var(--background) l c h);
        }

        /* Enhanced focus state with subtle glow */
        .glass-input-wrap:focus-within .glass-input {
            backdrop-filter: blur(.01em);
            box-shadow: inset 0 .125em .125em oklch(from var(--foreground) l c h / 6%),
                        inset 0 -.125em .125em oklch(from var(--background) l c h / 55%),
                        0 .15em .05em -.1em oklch(from var(--foreground) l c h / 25%),
                        0 0 .05em .1em inset oklch(from var(--background) l c h / 60%),
                        0 0 0 3px oklch(from var(--foreground) l c h / 3%),
                        0 0 12px 0 oklch(from var(--foreground) l c h / 4%);
        }

        .glass-input::after {
            content: "";
            position: absolute;
            z-index: 1;
            inset: calc(0% - .5 * clamp(1px, .0625em, 4px)) 0 0 calc(0% - .5 * clamp(1px, .0625em, 4px));
            border-radius: 9999px;
            width: calc(100% + clamp(1px, .0625em, 4px));
            height: calc(100% + clamp(1px, .0625em, 4px));
            padding: clamp(1px, .0625em, 4px);
            box-sizing: border-box;
            background: conic-gradient(from var(--angle-1) at 50% 50%, 
                                      oklch(from var(--foreground) l c h / 50%) 0%, 
                                      transparent 5% 40%, 
                                      oklch(from var(--foreground) l c h / 50%) 50%, 
                                      transparent 60% 95%, 
                                      oklch(from var(--foreground) l c h / 50%) 100%),
                        linear-gradient(180deg, oklch(from var(--background) l c h / 50%), oklch(from var(--background) l c h / 50%));
            mask: linear-gradient(#000 0, #000 0) content-box exclude, linear-gradient(#000 0, #000 0);
            transition: all 350ms cubic-bezier(.25, 1, .5, 1), --angle-1 450ms;
            box-shadow: inset 0 0 0 calc(clamp(1px, .0625em, 4px) / 2) oklch(from var(--background) l c h / 50%);
            pointer-events: none;
        }

        .glass-input-wrap:focus-within .glass-input::after {
            --angle-1: -125deg;
        }

        .glass-input-text-area {
            position: absolute;
            inset: 0;
            border-radius: 9999px;
            pointer-events: none;
        }

        .glass-input-text-area::after {
            content: "";
            display: block;
            position: absolute;
            width: calc(100% - clamp(1px, .0625em, 4px));
            height: calc(100% - clamp(1px, .0625em, 4px));
            top: calc(0% + .5 * clamp(1px, .0625em, 4px));
            left: calc(0% + .5 * clamp(1px, .0625em, 4px));
            box-sizing: border-box;
            border-radius: 9999px;
            overflow: clip;
            z-index: 3;
            mix-blend-mode: screen;
            pointer-events: none;
            background-size: 200% 200%;
            background-position: 0% 50%;
            transition: background-position .45s cubic-bezier(.25, 1, .5, 1), --angle-2 .45s cubic-bezier(.25, 1, .5, 1);
        }

        .glass-input-wrap:focus-within .glass-input-text-area::after {
            background-position: 25% 50%;
        }

        /* CIRCULAR NEXT BUTTON INSIDE INPUT - FIXED AT END */
        .next-button-container {
            position: absolute;
            right: 6px;
            top: 50%;
            transform: translateY(-50%);
            width: 0;
            opacity: 0;
            overflow: hidden;
            transition: width 0.25s cubic-bezier(0.4, 0, 0.2, 1), 
                        opacity 0.25s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .next-button-container.show {
            width: 36px;
            opacity: 1;
        }

        .next-button-circle {
            width: 36px;
            height: 36px;
            min-width: 36px;
            min-height: 36px;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 9999px;
            cursor: pointer;
        }

        .next-button-circle svg {
            width: 16px;
            height: 16px;
        }

        /* EMAIL FIELD CONTAINER - REMOVED DEFAULT OPACITY:1 SO ANIMATION CLASS CAN CONTROL IT */
        .email-field-container {
            filter: blur(0px);
            transform: translateY(0);
            transition: opacity 0.3s ease-out, filter 0.3s ease-out, transform 0.3s ease-out, max-height 0.3s ease-out;
            max-height: 200px;
        }

        .email-field-container.hide {
            opacity: 0;
            filter: blur(4px);
            transform: translateY(-4px);
            max-height: 0;
            margin-top: 0 !important;
            overflow: hidden;
        }

        /* PASSWORD FIELD SLIDE-IN ANIMATION */
        .password-field-container {
            opacity: 0;
            filter: blur(4px);
            transform: translateY(4px);
            transition: opacity 0.3s ease-out, filter 0.3s ease-out, transform 0.3s ease-out;
            margin-top: 0;
            max-height: 0;
            overflow: hidden;
        }

        .password-field-container.show {
            opacity: 1;
            filter: blur(0px);
            transform: translateY(0);
            margin-top: 1.5rem;
            max-height: 200px;
        }

        /* CONFIRM PASSWORD FIELD SLIDE-IN ANIMATION */
        .confirm-password-field-container {
            opacity: 0;
            filter: blur(4px);
            transform: translateY(4px);
            transition: opacity 0.3s ease-out, filter 0.3s ease-out, transform 0.3s ease-out;
            margin-top: 0;
            max-height: 0;
            overflow: hidden;
        }

        .confirm-password-field-container.show {
            opacity: 1;
            filter: blur(0px);
            transform: translateY(0);
            margin-top: 1.5rem;
            max-height: 200px;
        }

        /* FADE OUT ANIMATION FOR ELEMENTS */
        .fade-out {
            animation: fadeOutBlur 0.3s ease-out forwards;
        }

        .hide {
            display: none !important;
        }

        /* MICRO-INTERACTION: GO BACK BUTTON with hover effect */
        .go-back-button {
            margin-top: 1rem;
            text-align: center;
            opacity: 0;
            transform: translateY(4px);
            transition: opacity 0.25s ease-out, transform 0.25s ease-out;
        }

        .go-back-button.show {
            opacity: 1;
            transform: translateY(0);
        }

        .go-back-link {
            color: var(--muted-foreground);
            font-size: var(--text-xs);
            text-decoration: none;
            cursor: pointer;
            transition: all 0.2s ease;
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 0.375rem;
        }

        .go-back-link:hover {
            color: var(--foreground);
            background-color: oklch(from var(--foreground) l c h / 0.04);
            transform: translateX(-2px);
        }

        /* ENHANCED TERMS TEXT - Better contrast and positioning */
        .terms-text {
            font-size: 0.6875rem;
            line-height: 1.5;
            color: oklch(from var(--muted-foreground) l c h / 0.85);
            text-align: center;
            margin-top: 1.5rem;
            padding: 0 1rem;
            max-width: 320px;
            margin-left: auto;
            margin-right: auto;
        }

        .terms-text a {
            color: oklch(from var(--primary) l c h / 0.9);
            text-decoration: none;
            transition: all 0.2s ease;
            position: relative;
            font-weight: 500;
        }

        .terms-text a:hover {
            color: var(--foreground);
        }

        .terms-text a::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 1px;
            bottom: -1px;
            left: 0;
            background-color: currentColor;
            transform: scaleX(0);
            transform-origin: right;
            transition: transform 0.2s ease;
        }

        .terms-text a:hover::after {
            transform: scaleX(1);
            transform-origin: left;
        }

        /* Autofill styling fixes */
        input[type="password"]::-webkit-credentials-auto-fill-button,
        input[type="password"]::-webkit-strong-password-auto-fill-button {
            display: none !important;
        }

        input:-webkit-autofill,
        input:-webkit-autofill:hover,
        input:-webkit-autofill:focus,
        input:-webkit-autofill:active {
            box-shadow: transparent 0 0 0 30px inset !important;
            -webkit-text-fill-color: var(--foreground) !important;
            background-color: transparent !important;
            background-clip: content-box !important;
            transition: background-color 5000s ease-in-out !important;
            color: var(--foreground) !important;
            caret-color: var(--foreground) !important;
        }

        input:autofill {
            background-color: transparent !important;
            background-clip: content-box !important;
            -webkit-text-fill-color: var(--foreground) !important;
            color: var(--foreground) !important;
        }

        input:-internal-autofill-selected {
            background-color: transparent !important;
            background-image: none !important;
            color: var(--foreground) !important;
            -webkit-text-fill-color: var(--foreground) !important;
        }

        input:-webkit-autofill::first-line {
            color: var(--foreground) !important;
            -webkit-text-fill-color: var(--foreground) !important;
        }

        /* MICRO-INTERACTION: Error message with smooth slide-in */
        .error-message {
            color: #ef4444;
            font-size: 0.75rem;
            margin-top: 0.5rem;
            text-align: center;
            opacity: 0;
            transform: translateY(-4px);
            animation: errorSlideIn 0.3s ease-out forwards;
        }

        @keyframes errorSlideIn {
            from {
                opacity: 0;
                transform: translateY(-4px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Loading spinner */
        .spinner {
            border: 2px solid rgba(0, 0, 0, 0.1);
            border-top: 2px solid var(--foreground);
            border-radius: 50%;
            width: 16px;
            height: 16px;
            animation: spin 0.8s linear infinite;
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center relative overflow-hidden">
    <!-- Topbar with Logo and Home Icon -->
    <div class="topbar">
        <a class="brand" href="/" aria-label="Galactly">
            <div class="brand-icon" aria-hidden="true">
                <svg viewBox="0 0 64 64" aria-label="Galactly double G" xmlns="http://www.w3.org/2000/svg">
                  <defs>
                    <symbol id="gSym" viewBox="0 0 320 860" overflow="visible">
                      <path id="gPath" d="M 209.5 474.25 H 261.5 C 261.667 524.583 262 630.45 262 651.25 C 262 677.25 242.5 718.75 235.5 730.25 C 228.5 741.75 208.5 760.25 193 770.25 C 177.5 780.25 161 786.25 149.5 786.25 C 140.3 786.25 131.667 779.916 128.5 776.75 C 122.5 771.916 105.6 755.85 86.0003 730.25 C 66.4003 704.65 60.5003 662.583 60.0003 644.75 V 221.25 C 59.667 209.583 61.7003 177.25 72.5003 141.25 C 81.5253 111.166 104.214 87.8332 119.5 75.9188 C 131.5 65.7496 150.57 68.3373 156.5 69.2496 C 163 70.2496 173.834 73.2496 178 74.7496 C 184.834 77.083 195.3 82.5496 206.5 91.7496 C 220.5 103.25 227 113.75 230 119.75 C 236 124.15 248.5 161.25 254 179.25 L 264 247.25 L 269.5 259.25 C 273.834 263.75 285 272.45 295 271.25 C 307.5 269.75 310.5 258.25 314 251.25 C 312 159.25 295 102.75 253.5 51.2496 C 220.3 10.0496 176.667 2.08297 159 3.24964 C 143.5 1.4163 101.8 8.84964 59.0003 53.2496 C 16.2003 97.6496 3.83366 179.416 3.00033 214.75 L 7.00033 649.75 C 7.33366 667.75 12.9003 713.55 32.5003 752.75 C 57.0003 801.75 108.5 847.25 166 847.25 C 211.6 846.45 254.334 803.25 270 781.75 C 292.8 752.55 313.392 681.75 313.5 642.25 C 313.667 581.583 313.9 456.65 313.5 442.25 C 313.1 427.85 304.667 416.916 300.5 413.25 H 204.5 C 198 416.083 185 426.35 185 444.75 C 185 463.15 201.334 472.083 209.5 474.25 Z"/>
                    </symbol>
                    <!-- POLISHED PROFESSIONAL BLUE GRADIENTS -->
                    <linearGradient id="ggFill" x1="0" y1="0" x2="0" y2="1">
                      <stop offset="0" stop-color="#3B5998"/>
                      <stop offset="0.5" stop-color="#2E4A7C"/>
                      <stop offset="1" stop-color="#1E3A5F"/>
                    </linearGradient>
                    <linearGradient id="ggShimmer" x1="0" y1="0" x2="0" y2="1">
                      <stop offset="0" stop-color="#4A6FA5"/>
                      <stop offset="1" stop-color="#36568C"/>
                    </linearGradient>
                    <radialGradient id="ggHalo" cx="50%" cy="45%" r="55%">
                      <stop offset="0" stop-color="#3B5998" stop-opacity="0.15"/>
                      <stop offset="1" stop-color="#3B5998" stop-opacity="0"/>
                    </radialGradient>
                    <linearGradient id="ggSheen" gradientUnits="userSpaceOnUse" x1="0" y1="0" x2="64" y2="64">
                      <stop offset="0" stop-color="#FFFFFF" stop-opacity="0"/>
                      <stop offset="0.48" stop-color="#FFFFFF" stop-opacity="0"/>
                      <stop offset="0.52" stop-color="#FFFFFF" stop-opacity="0.12"/>
                      <stop offset="0.58" stop-color="#FFFFFF" stop-opacity="0"/>
                      <stop offset="1" stop-color="#FFFFFF" stop-opacity="0"/>
                    </linearGradient>
                    <filter id="ggSoftGlow" x="-25%" y="-25%" width="150%" height="150%">
                      <feDropShadow dx="0" dy="0.5" stdDeviation="0.8" flood-color="#000" flood-opacity="0.18"/>
                      <feDropShadow dx="0" dy="0" stdDeviation="1.2" flood-color="#2E4A7C" flood-opacity="0.12"/>
                    </filter>
                  </defs>
                  <g pointer-events="none"><circle cx="32" cy="33" r="20" fill="url(#ggHalo)"/></g>
                  <g class="piece" style="transform: translateX(calc(var(--gg-gap-x)/2)); filter:url(#ggSoftGlow);">
                    <use href="#gSym" width="64" height="64" fill="url(#ggFill)"/>
                    <use href="#gSym" width="64" height="64" class="stroke" stroke="url(#ggShimmer)" stroke-width="var(--stroke-w)" fill="none"/>
                    <use href="#gSym" width="64" height="64" fill="url(#ggSheen)"/>
                  </g>
                  <g class="piece" style="transform: translateX(calc(-1 * var(--gg-gap-x)/2)) scaleX(-1); filter:url(#ggSoftGlow); opacity: var(--left-dim);">
                    <use href="#gSym" width="64" height="64" fill="url(#ggFill)"/>
                    <use href="#gSym" width="64" height="64" class="stroke" stroke="url(#ggShimmer)" stroke-width="var(--stroke-w)" fill="none"/>
                    <use href="#gSym" width="64" height="64" fill="url(#ggSheen)"/>
                  </g>
                </svg>
            </div>
            <span class="brand-word">Galactly</span>
        </a>
        <a class="home-link" href="/" aria-label="Home">
            <svg viewBox="0 0 24 24" aria-hidden="true" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M3 10.5L12 3l9 7.5"/>
                <path d="M5 10v9a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-9"/>
                <path d="M9 21v-6a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v6"/>
            </svg>
        </a>
    </div>

    <!-- Sign Up Content -->
    <div class="relative z-10 w-full max-w-sm mx-2 flex flex-col items-center content-container">
        <h1 class="heading-custom font-bold text-foreground text-center tracking-tighter mb-2 animate-entrance-heading" id="main-heading">
            Get started with Us
        </h1>
        <p class="text-sm text-muted-foreground text-center subtitle-tight animate-entrance-description" id="subtitle">Continue with</p>

        <!-- Form Content -->
        <form class="w-[300px] space-y-6" id="signup-form">
            <!-- Google Login Button -->
            <div class="buttons-container animate-entrance-buttons" id="social-buttons">
                <div class="glass-button-wrap cursor-pointer rounded-full relative">
                    <div class="glass-button-shadow"></div>
                    <button type="button" class="glass-button z-10 relative isolate all-unset cursor-pointer rounded-full transition-all text-sm font-medium" id="google-login">
                        <span class="glass-button-text relative select-none tracking-tighter px-4 py-2 flex items-center justify-center gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" class="w-6 h-6">
                                <g fill-rule="evenodd" fill="none">
                                    <g fill-rule="nonzero" transform="translate(3, 2)">
                                        <path fill="#4285F4" d="M57.8123233,30.1515267 C57.8123233,27.7263183 57.6155321,25.9565533 57.1896408,24.1212666 L29.4960833,24.1212666 L29.4960833,35.0674653 L45.7515771,35.0674653 C45.4239683,37.7877475 43.6542033,41.8844383 39.7213169,44.6372555 L39.6661883,45.0037254 L48.4223791,51.7870338 L49.0290201,51.8475849 C54.6004021,46.7020943 57.8123233,39.1313952 57.8123233,30.1515267"></path>
                                        <path fill="#34A853" d="M29.4960833,58.9921667 C37.4599129,58.9921667 44.1456164,56.3701671 49.0290201,51.8475849 L39.7213169,44.6372555 C37.2305867,46.3742596 33.887622,47.5868638 29.4960833,47.5868638 C21.6960582,47.5868638 15.0758763,42.4415066 12.7159637,35.3297017 L12.3700541,35.3591173 L3.26524241,42.4054015 L3.14617358,42.736208 C8.00797941,52.3681151 17.9571433,58.9921667 29.4960833,58.9921667"></path>
                                        <path fill="#FBBC04" d="M12.7159637,35.3297017 C12.0932012,33.4944667 11.7329116,31.5279215 11.7329116,29.4960833 C11.7329116,27.4642451 12.0932012,25.4977 12.6832591,23.6624649 L12.6667965,23.2860305 L3.44584714,16.1208332 L3.14617358,16.2559585 C1.14106496,20.2315967 0,24.7456833 0,29.4960833 C0,34.2464833 1.14106496,38.76057 3.14617358,42.736208 L12.7159637,35.3297017"></path>
                                        <path fill="#EA4335" d="M29.4960833,11.4050769 C35.0347044,11.4050769 38.7707997,13.7975244 40.9011602,15.7867415 L49.2255853,7.66898166 C44.1130815,2.91855167 37.4599129,0 29.4960833,0 C17.9571433,0 8.00797941,6.62405167 3.14617358,16.2559585 L12.6832591,23.6624649 C15.0758763,16.5506601 21.6960582,11.4050769 29.4960833,11.4050769"></path>
                                    </g>
                                </g>
                            </svg>
                            Google
                        </span>
                    </button>
                </div>
            </div>

            <!-- Divider -->
            <div class="flex items-center gap-4 text-xs text-muted-foreground animate-entrance-divider" id="divider">
                <div class="flex-1 h-px bg-border"></div>
                <span>OR</span>
                <div class="flex-1 h-px bg-border"></div>
            </div>

            <!-- Email Input Field -->
            <div class="w-full animate-entrance-input email-field-container" id="email-field-container">
                <div class="glass-input-wrap w-full" style="position: relative;">
                    <div class="glass-input">
                        <span class="glass-input-text-area"></span>
                        <div class="relative z-10 flex-shrink-0 flex items-center justify-center overflow-hidden transition-all duration-300 ease-in-out w-10 pl-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-mail h-5 w-5 text-foreground/80 flex-shrink-0" aria-hidden="true">
                                <rect width="20" height="16" x="2" y="4" rx="2"></rect>
                                <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path>
                            </svg>
                        </div>
                        <input 
                            placeholder="Email" 
                            class="relative z-10 h-full w-0 flex-grow bg-transparent text-foreground placeholder:text-foreground/60 focus:outline-none" 
                            type="email" 
                            value=""
                            id="email-input"
                            style="padding-right: 50px;"
                        >
                    </div>
                    <div class="next-button-container" id="email-next-btn-container">
                        <div class="glass-button-wrap cursor-pointer rounded-full relative">
                            <button type="button" class="glass-button next-button-circle z-10 relative isolate all-unset cursor-pointer rounded-full transition-all" id="email-next-btn">
                                <span class="glass-button-text relative select-none flex items-center justify-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M5 12h14"></path>
                                        <path d="m12 5 7 7-7 7"></path>
                                    </svg>
                                </span>
                            </button>
                        </div>
                    </div>
                </div>
                <div id="email-error" class="error-message" style="display: none;"></div>
            </div>

            <!-- Password Input Field (Initially Hidden) -->
            <div class="password-field-container" id="password-container">
                <div class="glass-input-wrap w-full" style="position: relative;">
                    <div class="glass-input">
                        <span class="glass-input-text-area"></span>
                        <div class="relative z-10 flex-shrink-0 flex items-center justify-center w-10 pl-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-lock h-5 w-5 text-foreground/80 flex-shrink-0" aria-hidden="true">
                                <rect width="18" height="11" x="3" y="11" rx="2" ry="2"></rect>
                                <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                            </svg>
                        </div>
                        <input 
                            placeholder="Password" 
                            class="relative z-10 h-full w-0 flex-grow bg-transparent text-foreground placeholder:text-foreground/60 focus:outline-none" 
                            type="password" 
                            value=""
                            id="password-input"
                            style="padding-right: 50px;"
                        >
                    </div>
                    <div class="next-button-container" id="password-next-btn-container">
                        <div class="glass-button-wrap cursor-pointer rounded-full relative">
                            <button type="button" class="glass-button next-button-circle z-10 relative isolate all-unset cursor-pointer rounded-full transition-all" id="password-next-btn">
                                <span class="glass-button-text relative select-none flex items-center justify-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M5 12h14"></path>
                                        <path d="m12 5 7 7-7 7"></path>
                                    </svg>
                                </span>
                            </button>
                        </div>
                    </div>
                </div>
                <!-- Go Back Button for Password -->
                <div class="go-back-button" id="password-go-back">
                    <a class="go-back-link"> Go back</a>
                </div>
            </div>

            <!-- Confirm Password Input Field (Initially Hidden) -->
            <div class="confirm-password-field-container" id="confirm-password-container">
                <div class="glass-input-wrap w-full" style="position: relative;">
                    <div class="glass-input">
                        <span class="glass-input-text-area"></span>
                        <div class="relative z-10 flex-shrink-0 flex items-center justify-center w-10 pl-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-lock h-5 w-5 text-foreground/80 flex-shrink-0" aria-hidden="true">
                                <rect width="18" height="11" x="3" y="11" rx="2" ry="2"></rect>
                                <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                            </svg>
                        </div>
                        <input 
                            placeholder="Confirm Password" 
                            class="relative z-10 h-full w-0 flex-grow bg-transparent text-foreground placeholder:text-foreground/60 focus:outline-none" 
                            type="password" 
                            value=""
                            id="confirm-password-input"
                            style="padding-right: 50px;"
                        >
                    </div>
                    <div class="next-button-container" id="confirm-password-next-btn-container">
                        <div class="glass-button-wrap cursor-pointer rounded-full relative">
                            <button type="button" class="glass-button next-button-circle z-10 relative isolate all-unset cursor-pointer rounded-full transition-all" id="confirm-password-next-btn">
                                <span class="glass-button-text relative select-none flex items-center justify-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M5 12h14"></path>
                                        <path d="m12 5 7 7-7 7"></path>
                                    </svg>
                                </span>
                            </button>
                        </div>
                    </div>
                </div>
                <div id="confirm-password-error" class="error-message" style="display: none;"></div>
                <!-- Go Back Button for Confirm Password -->
                <div class="go-back-button" id="confirm-password-go-back">
                    <a class="go-back-link"> Go back</a>
                </div>
            </div>

            <!-- ENHANCED Terms Text -->
            <p class="terms-text animate-entrance-terms">
                By clicking continue, you agree to our 
                <a href="#">Terms of Service</a> 
                and 
                <a href="#">Privacy Policy</a>.
            </p>
        </form>
    </div>

    <script>
        // Initialize Firebase
        firebase.initializeApp(window.__FIREBASE_CONFIG__);
        const auth = firebase.auth();
        const db = firebase.firestore();

        // Personal email domains to block
        const PERSONAL_DOMAINS = new Set([
            'gmail.com', 'yahoo.com', 'hotmail.com', 'outlook.com', 
            'aol.com', 'icloud.com', 'mail.com', 'protonmail.com',
            'yandex.com', 'zoho.com', 'gmx.com', 'inbox.com'
        ]);

        // Utility: Check if email is business email
        function isBusinessEmail(email) {
            const domain = email.split('@')[1]?.toLowerCase();
            return domain && !PERSONAL_DOMAINS.has(domain);
        }

        // Utility: Show error message
        function showError(elementId, message) {
            const errorEl = document.getElementById(elementId);
            if (errorEl) {
                errorEl.textContent = message;
                errorEl.style.display = 'block';
            }
        }

        // Utility: Hide error message
        function hideError(elementId) {
            const errorEl = document.getElementById(elementId);
            if (errorEl) {
                errorEl.style.display = 'none';
            }
        }

        // Utility: Show loading state
        function setButtonLoading(buttonEl, loading) {
            const textSpan = buttonEl.querySelector('.glass-button-text');
            if (loading) {
                textSpan.innerHTML = '<div class="spinner"></div>';
                buttonEl.disabled = true;
            } else {
                buttonEl.disabled = false;
            }
        }

        // Google Sign-In Handler
        document.getElementById('google-login').addEventListener('click', async function() {
            console.log(' Google login initiated');
            const btn = this;
            setButtonLoading(btn, true);
            hideError('email-error');

            try {
                const provider = new firebase.auth.GoogleAuthProvider();
                provider.setCustomParameters({
                    prompt: 'select_account',
                    hd: '*' // Allow all domains, we'll filter after
                });

                const result = await auth.signInWithPopup(provider);
                const user = result.user;
                const email = user.email;

                console.log(' Google sign-in successful:', email);

                // Check if business email
                if (!isBusinessEmail(email)) {
                    // Sign out and show error
                    await auth.signOut();
                    showError('email-error', ' Please use your business email. Personal emails (Gmail, Yahoo, etc.) are not allowed.');
                    setButtonLoading(btn, false);
                    btn.querySelector('.glass-button-text').innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" class="w-6 h-6"><g fill-rule="evenodd" fill="none"><g fill-rule="nonzero" transform="translate(3, 2)"><path fill="#4285F4" d="M57.8123233,30.1515267 C57.8123233,27.7263183 57.6155321,25.9565533 57.1896408,24.1212666 L29.4960833,24.1212666 L29.4960833,35.0674653 L45.7515771,35.0674653 C45.4239683,37.7877475 43.6542033,41.8844383 39.7213169,44.6372555 L39.6661883,45.0037254 L48.4223791,51.7870338 L49.0290201,51.8475849 C54.6004021,46.7020943 57.8123233,39.1313952 57.8123233,30.1515267"></path><path fill="#34A853" d="M29.4960833,58.9921667 C37.4599129,58.9921667 44.1456164,56.3701671 49.0290201,51.8475849 L39.7213169,44.6372555 C37.2305867,46.3742596 33.887622,47.5868638 29.4960833,47.5868638 C21.6960582,47.5868638 15.0758763,42.4415066 12.7159637,35.3297017 L12.3700541,35.3591173 L3.26524241,42.4054015 L3.14617358,42.736208 C8.00797941,52.3681151 17.9571433,58.9921667 29.4960833,58.9921667"></path><path fill="#FBBC04" d="M12.7159637,35.3297017 C12.0932012,33.4944667 11.7329116,31.5279215 11.7329116,29.4960833 C11.7329116,27.4642451 12.0932012,25.4977 12.6832591,23.6624649 L12.6667965,23.2860305 L3.44584714,16.1208332 L3.14617358,16.2559585 C1.14106496,20.2315967 0,24.7456833 0,29.4960833 C0,34.2464833 1.14106496,38.76057 3.14617358,42.736208 L12.7159637,35.3297017"></path><path fill="#EA4335" d="M29.4960833,11.4050769 C35.0347044,11.4050769 38.7707997,13.7975244 40.9011602,15.7867415 L49.2255853,7.66898166 C44.1130815,2.91855167 37.4599129,0 29.4960833,0 C17.9571433,0 8.00797941,6.62405167 3.14617358,16.2559585 L12.6832591,23.6624649 C15.0758763,16.5506601 21.6960582,11.4050769 29.4960833,11.4050769"></path></g></g></svg> Google';
                    console.log(' Personal email rejected:', email);
                    return;
                }

                console.log(' Business email verified:', email);
                window.location.href = '/auth/verified';
                
            } catch (error) {
                console.error(' Google sign-in error:', error);
                setButtonLoading(btn, false);
                btn.querySelector('.glass-button-text').innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" class="w-6 h-6"><g fill-rule="evenodd" fill="none"><g fill-rule="nonzero" transform="translate(3, 2)"><path fill="#4285F4" d="M57.8123233,30.1515267 C57.8123233,27.7263183 57.6155321,25.9565533 57.1896408,24.1212666 L29.4960833,24.1212666 L29.4960833,35.0674653 L45.7515771,35.0674653 C45.4239683,37.7877475 43.6542033,41.8844383 39.7213169,44.6372555 L39.6661883,45.0037254 L48.4223791,51.7870338 L49.0290201,51.8475849 C54.6004021,46.7020943 57.8123233,39.1313952 57.8123233,30.1515267"></path><path fill="#34A853" d="M29.4960833,58.9921667 C37.4599129,58.9921667 44.1456164,56.3701671 49.0290201,51.8475849 L39.7213169,44.6372555 C37.2305867,46.3742596 33.887622,47.5868638 29.4960833,47.5868638 C21.6960582,47.5868638 15.0758763,42.4415066 12.7159637,35.3297017 L12.3700541,35.3591173 L3.26524241,42.4054015 L3.14617358,42.736208 C8.00797941,52.3681151 17.9571433,58.9921667 29.4960833,58.9921667"></path><path fill="#FBBC04" d="M12.7159637,35.3297017 C12.0932012,33.4944667 11.7329116,31.5279215 11.7329116,29.4960833 C11.7329116,27.4642451 12.0932012,25.4977 12.6832591,23.6624649 L12.6667965,23.2860305 L3.44584714,16.1208332 L3.14617358,16.2559585 C1.14106496,20.2315967 0,24.7456833 0,29.4960833 C0,34.2464833 1.14106496,38.76057 3.14617358,42.736208 L12.7159637,35.3297017"></path><path fill="#EA4335" d="M29.4960833,11.4050769 C35.0347044,11.4050769 38.7707997,13.7975244 40.9011602,15.7867415 L49.2255853,7.66898166 C44.1130815,2.91855167 37.4599129,0 29.4960833,0 C17.9571433,0 8.00797941,6.62405167 3.14617358,16.2559585 L12.6832591,23.6624649 C15.0758763,16.5506601 21.6960582,11.4050769 29.4960833,11.4050769"></path></g></g></svg> Google';
                
                if (error.code === 'auth/popup-closed-by-user') {
                    showError('email-error', 'Sign-in cancelled. Please try again.');
                } else if (error.code === 'auth/popup-blocked') {
                    showError('email-error', 'Pop-up blocked. Please allow pop-ups and try again.');
                } else {
                    showError('email-error', 'An error occurred. Please try again.');
                }
            }
        });

        // Complete Email  Password  Confirm Password Workflow with Go Back
        (function() {
            'use strict';

            // Elements
            const mainHeading = document.getElementById('main-heading');
            const subtitle = document.getElementById('subtitle');
            const socialButtons = document.getElementById('social-buttons');
            const divider = document.getElementById('divider');
            
            const emailFieldContainer = document.getElementById('email-field-container');
            const emailInput = document.getElementById('email-input');
            const emailNextBtn = document.getElementById('email-next-btn');
            const emailNextBtnContainer = document.getElementById('email-next-btn-container');
            
            const passwordContainer = document.getElementById('password-container');
            const passwordInput = document.getElementById('password-input');
            const passwordNextBtn = document.getElementById('password-next-btn');
            const passwordNextBtnContainer = document.getElementById('password-next-btn-container');
            const passwordGoBack = document.getElementById('password-go-back');
            
            const confirmPasswordContainer = document.getElementById('confirm-password-container');
            const confirmPasswordInput = document.getElementById('confirm-password-input');
            const confirmPasswordNextBtn = document.getElementById('confirm-password-next-btn');
            const confirmPasswordNextBtnContainer = document.getElementById('confirm-password-next-btn-container');
            const confirmPasswordGoBack = document.getElementById('confirm-password-go-back');
            
            // State
            let emailValid = false;
            let passwordValid = false;
            let confirmPasswordValid = false;
            let currentStep = 'email'; // 'email', 'password', 'confirm'

            // Email validation regex
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

            // 1. EMAIL INPUT - Show next button when valid
            emailInput.addEventListener('input', function() {
                const value = this.value.trim();
                const isValid = emailRegex.test(value);
                hideError('email-error');

                if (isValid && !emailValid) {
                    emailValid = true;
                    emailNextBtnContainer.classList.add('show');
                    console.log(' Valid email entered:', value);
                } else if (!isValid && emailValid) {
                    emailValid = false;
                    emailNextBtnContainer.classList.remove('show');
                }
            });

            // 2. EMAIL NEXT BUTTON - Transition to password
            emailNextBtn.addEventListener('click', function(e) {
                e.preventDefault();
                const email = emailInput.value.trim();
                
                // Validate business email
                if (!isBusinessEmail(email)) {
                    showError('email-error', ' Please use your business email. Personal emails (Gmail, Yahoo, etc.) are not allowed.');
                    return;
                }
                
                if (emailValid) {
                    console.log(' Email next clicked - transitioning to password');
                    currentStep = 'password';
                    
                    // Hide email next button
                    emailNextBtnContainer.classList.remove('show');
                    
                    // Hide email field
                    emailFieldContainer.classList.add('hide');
                    
                    // Fade out social buttons and divider
                    socialButtons.classList.add('fade-out');
                    divider.classList.add('fade-out');
                    
                    // Wait for fade out animation
                    setTimeout(() => {
                        socialButtons.classList.add('hide');
                        divider.classList.add('hide');
                        
                        // Change heading and subtitle
                        mainHeading.textContent = 'Create your password';
                        subtitle.textContent = 'Your password must be at least 6 characters long.';
                        
                        // Animate heading
                        mainHeading.style.animation = 'fadeInUpBlur 0.3s ease-out forwards';
                        subtitle.style.animation = 'fadeInUpBlur 0.3s ease-out forwards';
                        subtitle.style.animationDelay = '0.1s';
                        
                        // Show password field
                        passwordContainer.classList.add('show');
                        setTimeout(() => {
                            passwordGoBack.classList.add('show');
                            passwordInput.focus();
                        }, 200);
                    }, 300);
                }
            });

            // 3. PASSWORD INPUT - Show next button when 6+ chars
            passwordInput.addEventListener('input', function() {
                const password = this.value;
                const isValid = password.length >= 6;

                if (isValid && !passwordValid) {
                    passwordValid = true;
                    passwordNextBtnContainer.classList.add('show');
                    console.log(' Password valid (6+ characters)');
                } else if (!isValid && passwordValid) {
                    passwordValid = false;
                    passwordNextBtnContainer.classList.remove('show');
                }
            });

            // 4. PASSWORD NEXT BUTTON - Transition to confirm password
            passwordNextBtn.addEventListener('click', function(e) {
                e.preventDefault();
                if (passwordValid) {
                    console.log(' Password next clicked - transitioning to confirm');
                    currentStep = 'confirm';
                    
                    // Hide password next button
                    passwordNextBtnContainer.classList.remove('show');
                    passwordGoBack.classList.remove('show');
                    
                    // Fade out password field
                    passwordContainer.classList.remove('show');
                    
                    // Wait for animation
                    setTimeout(() => {
                        // Change heading
                        mainHeading.textContent = 'Confirm your password';
                        subtitle.textContent = 'Re-enter your password to confirm.';
                        
                        mainHeading.style.animation = 'fadeInUpBlur 0.3s ease-out forwards';
                        subtitle.style.animation = 'fadeInUpBlur 0.3s ease-out forwards';
                        subtitle.style.animationDelay = '0.1s';
                        
                        // Show confirm password field
                        confirmPasswordContainer.classList.add('show');
                        setTimeout(() => {
                            confirmPasswordGoBack.classList.add('show');
                            confirmPasswordInput.focus();
                        }, 200);
                    }, 300);
                }
            });

            // 5. CONFIRM PASSWORD INPUT - Show next button when 6+ chars
            confirmPasswordInput.addEventListener('input', function() {
                const password = this.value;
                const isValid = password.length >= 6;
                hideError('confirm-password-error');

                if (isValid && !confirmPasswordValid) {
                    confirmPasswordValid = true;
                    confirmPasswordNextBtnContainer.classList.add('show');
                    console.log(' Confirm password valid (6+ characters)');
                } else if (!isValid && confirmPasswordValid) {
                    confirmPasswordValid = false;
                    confirmPasswordNextBtnContainer.classList.remove('show');
                }
            });

            // 6. CONFIRM PASSWORD NEXT BUTTON - Complete signup
            confirmPasswordNextBtn.addEventListener('click', async function(e) {
                e.preventDefault();
                
                if (!confirmPasswordValid) return;
                
                const email = emailInput.value.trim();
                const password = passwordInput.value;
                const confirmPassword = confirmPasswordInput.value;
                
                // Check passwords match
                if (password !== confirmPassword) {
                    showError('confirm-password-error', ' Passwords do not match');
                    return;
                }
                
                console.log(' Form complete - Creating account...');
                const btn = this;
                setButtonLoading(btn, true);
                hideError('confirm-password-error');
                
                try {
                    // Create user with email/password
                    const userCredential = await auth.createUserWithEmailAndPassword(email, password);
                    const user = userCredential.user;
                    
                    console.log(' Account created successfully:', user.uid);
                    window.location.href = '/auth/verified';
                    
                } catch (error) {
                    console.error(' Signup error:', error);
                    setButtonLoading(btn, false);
                    btn.querySelector('.glass-button-text').innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"></path><path d="m12 5 7 7-7 7"></path></svg>';
                    
                    if (error.code === 'auth/email-already-in-use') {
                        showError('confirm-password-error', ' This email is already registered');
                    } else if (error.code === 'auth/weak-password') {
                        showError('confirm-password-error', ' Password is too weak');
                    } else {
                        showError('confirm-password-error', ' An error occurred. Please try again.');
                    }
                }
            });

            // GO BACK HANDLERS
            passwordGoBack.querySelector('a').addEventListener('click', function(e) {
                e.preventDefault();
                console.log(' Going back to email step');
                currentStep = 'email';
                
                passwordGoBack.classList.remove('show');
                passwordNextBtnContainer.classList.remove('show');
                passwordContainer.classList.remove('show');
                
                setTimeout(() => {
                    mainHeading.textContent = 'Get started with Us';
                    subtitle.textContent = 'Continue with';
                    
                    mainHeading.style.animation = 'fadeInUpBlur 0.3s ease-out forwards';
                    subtitle.style.animation = 'fadeInUpBlur 0.3s ease-out forwards';
                    
                    socialButtons.classList.remove('hide', 'fade-out');
                    divider.classList.remove('hide', 'fade-out');
                    emailFieldContainer.classList.remove('hide');
                    
                    socialButtons.style.animation = 'fadeInUpBlur 0.3s ease-out forwards';
                    divider.style.animation = 'fadeInUpBlur 0.3s ease-out forwards';
                    
                    if (emailValid) {
                        emailNextBtnContainer.classList.add('show');
                    }
                }, 250);
            });

            confirmPasswordGoBack.querySelector('a').addEventListener('click', function(e) {
                e.preventDefault();
                console.log(' Going back to password step');
                currentStep = 'password';
                
                confirmPasswordGoBack.classList.remove('show');
                confirmPasswordNextBtnContainer.classList.remove('show');
                confirmPasswordContainer.classList.remove('show');
                hideError('confirm-password-error');
                
                setTimeout(() => {
                    mainHeading.textContent = 'Create your password';
                    subtitle.textContent = 'Your password must be at least 6 characters long.';
                    
                    mainHeading.style.animation = 'fadeInUpBlur 0.3s ease-out forwards';
                    subtitle.style.animation = 'fadeInUpBlur 0.3s ease-out forwards';
                    
                    passwordContainer.classList.add('show');
                    setTimeout(() => {
                        passwordGoBack.classList.add('show');
                        if (passwordValid) {
                            passwordNextBtnContainer.classList.add('show');
                        }
                    }, 200);
                }, 250);
            });

            // Enter key handlers
            emailInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && emailValid) {
                    e.preventDefault();
                    emailNextBtn.click();
                }
            });

            passwordInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && passwordValid) {
                    e.preventDefault();
                    passwordNextBtn.click();
                }
            });

            confirmPasswordInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && confirmPasswordValid) {
                    e.preventDefault();
                    confirmPasswordNextBtn.click();
                }
            });

            console.log(' Firebase initialized with Google OAuth + business email validation!');
        })();
    </script>
</body>
</html>